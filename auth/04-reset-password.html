<!DOCTYPE html>
<html lang="en" class="h-full bg-[#F8FAFC]"><head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create New Password - Potential HRM</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
<script>
tailwind.config = {
theme: {
extend: {
fontFamily: {
sans: ['Inter', 'sans-serif'],
},
colors: {
primary: {
50: '#eff6ff',
100: '#dbeafe',
600: '#2563EB',
700: '#1D4ED8',
},
success: {
500: '#10B981',
},
warning: {
500: '#F59E0B',
},
danger: {
500: '#EF4444',
}
}
}
}
}
</script>
<style>
body {
font-feature-settings: "cv02", "cv03", "cv04", "cv11";
-webkit-font-smoothing: antialiased;
}
.loader {
border: 2px solid rgba(255,255,255,0.3);
border-radius: 50%;
border-top: 2px solid #ffffff;
width: 20px;
height: 20px;
animation: spin 1s linear infinite;
}
@keyframes spin {
0% { transform: rotate(0deg); }
100% { transform: rotate(360deg); }
}
.fade-in {
animation: fadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}
@keyframes fadeIn {
from { opacity: 0; transform: translateY(10px); }
to { opacity: 1; transform: translateY(0); }
}
/* Custom range styling for the strength bar transition */
.strength-bar {
transition: width 0.3s ease, background-color 0.3s ease;
}
</style></head>
<body class="h-full flex items-center justify-center p-4">

    <!-- Card Container -->
    <div class="w-full max-w-[420px] bg-white rounded-2xl shadow-[0_4px_6px_-1px_rgba(0,0,0,0.02),0_2px_4px_-1px_rgba(0,0,0,0.02)] border border-slate-200 p-8 fade-in relative overflow-hidden">
        
        <!-- View 1: Set Password Form -->
        <div id="reset-view" class="transition-opacity duration-300">
            <!-- Logo -->
            <div class="flex flex-col items-center justify-center mb-8">
                <div class="w-16 h-16 bg-blue-50 text-primary-600 rounded-xl flex items-center justify-center mb-4 ring-4 ring-blue-50/50">
                    <iconify-icon icon="solar:shield-keyhole-linear" width="32" stroke-width="1.5"></iconify-icon>
                </div>
                <h2 class="text-2xl font-semibold text-slate-900 tracking-tight">Create New Password</h2>
                <p class="mt-2 text-sm text-slate-500 text-center leading-relaxed">
                    Your new password must be different from previous used passwords.
                </p>
            </div>

            <form id="password-form" class="space-y-5" novalidate="">
                
                <!-- New Password Input -->
                <div class="space-y-1.5">
                    <label for="new-password" class="block text-sm font-medium text-slate-700">New Password</label>
                    <div class="relative group">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400 group-focus-within:text-primary-600 transition-colors">
                            <iconify-icon icon="solar:lock-password-linear" width="20" stroke-width="1.5"></iconify-icon>
                        </div>
                        <input type="password" id="new-password" name="new-password" class="block w-full pl-10 pr-10 h-[44px] border border-slate-300 rounded-lg text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-primary-600/20 focus:border-primary-600 text-sm transition-all shadow-sm" placeholder="Min. 8 characters">
                        
                        <button type="button" class="absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400 hover:text-slate-600 focus:outline-none cursor-pointer" onclick="togglePassword('new-password', this)">
                            <iconify-icon icon="solar:eye-linear" width="20" stroke-width="1.5"></iconify-icon>
                        </button>
                    </div>

                    <!-- Strength Indicator -->
                    <div class="pt-1">
                        <div class="h-1.5 w-full bg-slate-100 rounded-full overflow-hidden">
                            <div id="strength-bar" class="h-full strength-bar w-0 bg-danger-500"></div>
                        </div>
                        <div class="flex justify-between items-center mt-1.5">
                            <span id="strength-text" class="text-xs font-medium text-slate-500">Weak</span>
                            <span class="text-xs text-slate-400">Minimum 8 characters</span>
                        </div>
                    </div>
                </div>

                <!-- Confirm Password Input -->
                <div class="space-y-1.5">
                    <label for="confirm-password" class="block text-sm font-medium text-slate-700">Confirm Password</label>
                    <div class="relative group">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400 group-focus-within:text-primary-600 transition-colors">
                            <iconify-icon icon="solar:lock-password-linear" width="20" stroke-width="1.5"></iconify-icon>
                        </div>
                        <input type="password" id="confirm-password" name="confirm-password" class="block w-full pl-10 pr-10 h-[44px] border border-slate-300 rounded-lg text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-primary-600/20 focus:border-primary-600 text-sm transition-all shadow-sm" placeholder="Re-enter password">
                        
                        <!-- Toggle & Match Icons -->
                        <div class="absolute inset-y-0 right-0 pr-3 flex items-center gap-2">
                            <!-- Match Checkmark (Hidden by default) -->
                            <div id="match-icon" class="text-success-500 hidden fade-in">
                                <iconify-icon icon="solar:check-circle-bold" width="20"></iconify-icon>
                            </div>
                            
                            <button type="button" class="flex items-center text-slate-400 hover:text-slate-600 focus:outline-none cursor-pointer" onclick="togglePassword('confirm-password', this)">
                                <iconify-icon icon="solar:eye-linear" width="20" stroke-width="1.5"></iconify-icon>
                            </button>
                        </div>
                    </div>
                     <p id="match-error" class="text-xs text-danger-500 mt-1 hidden font-medium">Passwords do not match</p>
                </div>

                <!-- Action Button -->
                <div class="pt-2">
                    <button type="submit" id="submit-btn" class="w-full flex items-center justify-center h-[44px] px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed">
                        <span id="btn-text">Reset Password</span>
                        <div id="btn-loader" class="loader hidden"></div>
                    </button>
                </div>
            </form>
        </div>

        <!-- View 2: Success State (Hidden initially) -->
        <div id="success-view" class="hidden text-center py-4 fade-in">
            <div class="w-16 h-16 bg-green-50 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6 ring-4 ring-green-50/50">
                <iconify-icon icon="solar:check-circle-bold-duotone" width="40"></iconify-icon>
            </div>
            
            <h2 class="text-2xl font-semibold text-slate-900 tracking-tight mb-2">Password Reset</h2>
            
            <p class="text-sm text-slate-500 leading-relaxed mb-8">
                Your password has been successfully reset. <br>Click below to log in securely.
            </p>

            <button onclick="window.location.href='#'" class="w-full flex items-center justify-center h-[44px] px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-600 transition-colors">
                Back to Login
            </button>
        </div>

    </div>

    <!-- Logic Script -->
    <script>
        const form = document.getElementById('password-form');
        const newPassInput = document.getElementById('new-password');
        const confirmPassInput = document.getElementById('confirm-password');
        const submitBtn = document.getElementById('submit-btn');
        const btnText = document.getElementById('btn-text');
        const btnLoader = document.getElementById('btn-loader');
        
        const strengthBar = document.getElementById('strength-bar');
        const strengthText = document.getElementById('strength-text');
        
        const matchIcon = document.getElementById('match-icon');
        const matchError = document.getElementById('match-error');

        // Toggle Password Visibility
        function togglePassword(inputId, btn) {
            const input = document.getElementById(inputId);
            const icon = btn.querySelector('iconify-icon');
            
            if (input.type === 'password') {
                input.type = 'text';
                icon.setAttribute('icon', 'solar:eye-closed-linear');
            } else {
                input.type = 'password';
                icon.setAttribute('icon', 'solar:eye-linear');
            }
        }

        // Check Strength
        newPassInput.addEventListener('input', updateStrength);
        
        function updateStrength() {
            const val = newPassInput.value;
            let strength = 0;
            
            if (val.length >= 8) strength += 1;
            if (val.match(/[0-9]/) || val.match(/[^a-zA-Z0-9]/)) strength += 1;
            if (val.match(/[A-Z]/) && val.match(/[a-z]/)) strength += 1;

            // Update UI
            if (val.length === 0) {
                strengthBar.style.width = '0%';
                strengthBar.className = 'h-full strength-bar w-0 bg-slate-200';
                strengthText.textContent = 'Weak';
                strengthText.className = 'text-xs font-medium text-slate-500';
            } else if (val.length < 8) {
                strengthBar.style.width = '25%';
                strengthBar.className = 'h-full strength-bar bg-danger-500';
                strengthText.textContent = 'Too short';
                strengthText.className = 'text-xs font-medium text-danger-500';
            } else if (strength === 1) {
                strengthBar.style.width = '50%';
                strengthBar.className = 'h-full strength-bar bg-warning-500';
                strengthText.textContent = 'Fair';
                strengthText.className = 'text-xs font-medium text-warning-500';
            } else if (strength >= 2) {
                strengthBar.style.width = '100%';
                strengthBar.className = 'h-full strength-bar bg-success-500';
                strengthText.textContent = 'Strong';
                strengthText.className = 'text-xs font-medium text-success-500';
            }
            
            validateMatch();
        }

        // Check Match
        confirmPassInput.addEventListener('input', validateMatch);

        function validateMatch() {
            const pass1 = newPassInput.value;
            const pass2 = confirmPassInput.value;

            // Only show match logic if confirm field has content
            if (pass2.length > 0) {
                if (pass1 === pass2 && pass1.length >= 8) {
                    matchIcon.classList.remove('hidden');
                    confirmPassInput.classList.remove('border-slate-300', 'focus:border-primary-600', 'border-red-300', 'focus:border-red-500', 'focus:ring-red-500/20');
                    confirmPassInput.classList.add('border-success-500', 'focus:border-success-500', 'focus:ring-success-500/20');
                    matchError.classList.add('hidden');
                    return true;
                } else {
                    matchIcon.classList.add('hidden');
                    if(pass2.length >= pass1.length) {
                        confirmPassInput.classList.remove('border-slate-300', 'focus:border-primary-600', 'border-success-500', 'focus:border-success-500', 'focus:ring-success-500/20');
                        confirmPassInput.classList.add('border-red-300', 'focus:border-red-500', 'focus:ring-red-500/20');
                        // Optional: Show error text
                        // matchError.classList.remove('hidden');
                    } else {
                        // Reset to standard while typing
                        confirmPassInput.classList.remove('border-success-500', 'focus:border-success-500', 'focus:ring-success-500/20', 'border-red-300', 'focus:border-red-500', 'focus:ring-red-500/20');
                        confirmPassInput.classList.add('border-slate-300', 'focus:border-primary-600');
                    }
                    return false;
                }
            } else {
                matchIcon.classList.add('hidden');
                confirmPassInput.classList.remove('border-success-500', 'focus:border-success-500', 'focus:ring-success-500/20', 'border-red-300', 'focus:border-red-500', 'focus:ring-red-500/20');
                confirmPassInput.classList.add('border-slate-300', 'focus:border-primary-600');
                matchError.classList.add('hidden');
                return false;
            }
        }

        // Form Submit
        form.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const pass1 = newPassInput.value;
            const pass2 = confirmPassInput.value;

            if (pass1.length < 8) {
                newPassInput.focus();
                // Shake effect logic could go here
                return;
            }

            if (pass1 !== pass2) {
                matchError.classList.remove('hidden');
                confirmPassInput.classList.add('border-red-300', 'focus:border-red-500');
                return;
            }

            // Simulate Loading
            submitBtn.disabled = true;
            btnText.classList.add('hidden');
            btnLoader.classList.remove('hidden');

            setTimeout(() => {
                document.getElementById('reset-view').style.display = 'none';
                document.getElementById('success-view').classList.remove('hidden');
            }, 1500);
        });
    </script>

</body></html>